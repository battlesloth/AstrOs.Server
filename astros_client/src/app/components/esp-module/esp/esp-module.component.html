<mat-accordion>
    <mat-expansion-panel [expanded]="uartPanelOpenState" (closed)="uartPanelOpenState = false">
        <mat-expansion-panel-header>
            <mat-panel-title>Serial Modules</mat-panel-title>
            <mat-panel-description>
                <div class="header-box">
                    <div class="header-spacer"></div>
                    <div class="header-button">
                        <button (click)="addUartModule($event)">
                            <fa-icon [icon]="addIcon"/>
                        </button>
                    </div>
                </div>
            </mat-panel-description>
        </mat-expansion-panel-header>
        <ul *ngIf="(location?.uartModules)" class="uart-list">
            <li *ngFor="let module of location.uartModules">
                <app-uart-module 
                    (removeModuleEvent)="removeModule($event)" 
                    [module]="module" 
                    [isMaster]="isMaster"/>
            </li>
        </ul>
    </mat-expansion-panel>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>I2C configuration</mat-panel-title>
            <mat-panel-description>
                <div class="header-box">
                    <div class="header-spacer"></div>
                    <div class="header-button">
                        <button (click)="addI2cModule($event)">
                            <fa-icon [icon]="addIcon"/>
                        </button>
                    </div>
                </div>
            </mat-panel-description>
        </mat-expansion-panel-header>
        <ul *ngIf="(location?.i2cModules)" class="i2c-list">
            <li *ngFor="let module of location.i2cModules">
                <app-i2c-module 
                    (removeModuleEvent)="removeModule($event)" 
                    [module]="module" 
                    [isMaster]="isMaster"/>
            </li> 
        </ul>
    </mat-expansion-panel>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>GPIO configuration</mat-panel-title>
        </mat-expansion-panel-header>
        <ul *ngIf="(location?.gpioModule)" class="servo-list">
            <li *ngFor="let channel of location.gpioModule.channels">
                <div class="gpio-channel">
                    <div class="label">Channel {{channel.id}}</div>
                    <div class="input"><input matInput placeholder="Name" [(ngModel)]="channel.channelName" /></div>
                    <div class="enabled">
                        <mat-checkbox [(ngModel)]="channel.enabled">Enabled</mat-checkbox>
                    </div>
                    <div class="enabled">
                        <mat-checkbox [(ngModel)]="channel.defaultLow">Default Low?</mat-checkbox>
                    </div>
                </div>
            </li>
        </ul>
    </mat-expansion-panel>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>Servo configuration</mat-panel-title>
        </mat-expansion-panel-header>
        <!--
        <ul class="servo-list">
            <li *ngFor="let channel of module.servoModule.channels">
                <div class="servo-channel">
                    <div class="servo-channel-row">
                        <div class="label">Channel {{channel.id}}</div>
                        <div class="input"><input matInput placeholder="Name" [(ngModel)]="channel.channelName" /></div>
                        <div class="type">
                            <mat-checkbox [(ngModel)]="channel.enabled">Enabled</mat-checkbox>
                        </div>
                        <div class="type">
                            <mat-checkbox [(ngModel)]="channel.inverted">Inverted</mat-checkbox>
                        </div>
                    </div>
                    <div class="servo-channel-row">
                        <div class="label-ms">Min μS</div>
                        <div class="limit">
                            <input matInput placeholder="0" [(ngModel)]="channel.minPos" />
                        </div>
                        <div class="label-ms">Max μS</div>
                        <div class="limit">
                            <input matInput placeholder="0" [(ngModel)]="channel.maxPos" />
                        </div>
                        <div class="label-ms">Home μS</div>
                        <div class="limit">
                            <input matInput placeholder="0" [(ngModel)]="channel.homePos" />
                        </div>
                        <div class="test-button">
                            <button (click)="testServoModal(channel.id)">Test</button>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    -->
    </mat-expansion-panel>
</mat-accordion>